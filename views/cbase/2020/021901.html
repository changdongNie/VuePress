<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>对象和类型 | 沧海一粟</title>
    <meta name="description" content="  ">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/VuePress/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/VuePress/assets/css/0.styles.3cddcafc.css" as="style"><link rel="preload" href="/VuePress/assets/js/app.4b2f6a19.js" as="script"><link rel="preload" href="/VuePress/assets/js/3.d221ede1.js" as="script"><link rel="preload" href="/VuePress/assets/js/1.1dcb4397.js" as="script"><link rel="preload" href="/VuePress/assets/js/14.5e75574b.js" as="script"><link rel="prefetch" href="/VuePress/assets/js/10.60161d99.js"><link rel="prefetch" href="/VuePress/assets/js/11.0e6235f1.js"><link rel="prefetch" href="/VuePress/assets/js/12.01c5aa26.js"><link rel="prefetch" href="/VuePress/assets/js/13.d8f31ec4.js"><link rel="prefetch" href="/VuePress/assets/js/15.30a24af9.js"><link rel="prefetch" href="/VuePress/assets/js/16.69781eed.js"><link rel="prefetch" href="/VuePress/assets/js/17.26fcf2e9.js"><link rel="prefetch" href="/VuePress/assets/js/18.52b11648.js"><link rel="prefetch" href="/VuePress/assets/js/19.454c7779.js"><link rel="prefetch" href="/VuePress/assets/js/4.695215f9.js"><link rel="prefetch" href="/VuePress/assets/js/5.a799364d.js"><link rel="prefetch" href="/VuePress/assets/js/6.b341ee5d.js"><link rel="prefetch" href="/VuePress/assets/js/7.ba88ee77.js"><link rel="prefetch" href="/VuePress/assets/js/8.2b1f9f61.js"><link rel="prefetch" href="/VuePress/assets/js/9.bc0535ef.js">
    <link rel="stylesheet" href="/VuePress/assets/css/0.styles.3cddcafc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-4698c43e><div data-v-4698c43e><div id="loader-wrapper" class="loading-wrapper" data-v-4b73742e data-v-4698c43e data-v-4698c43e><div class="loader-main" data-v-4b73742e><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-6cbeab0a data-v-4698c43e data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>沧海一粟</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>聂</span>
            
          <span data-v-6cbeab0a>2017 - </span>
          2020
        </a></span></div></div> <div class="hide" data-v-4698c43e><header class="navbar" data-v-4698c43e><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/VuePress/" class="home-link router-link-active"><img src="/VuePress/logo.png" alt="沧海一粟" class="logo"> <span class="site-name">沧海一粟</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/VuePress/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      系列
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/VuePress/views/git/2020/index.html" class="nav-link"><i class="iconfont reco-category"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/views/cbase/2020/index.html" class="nav-link"><i class="iconfont reco-category"></i>
  c#
</a></li></ul></div></div><div class="nav-item"><a href="/VuePress/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/VuePress/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-4698c43e></div> <aside class="sidebar" data-v-4698c43e><div class="personal-info-wrapper" data-v-6c8ffc9c><img src="/VuePress/23.jpg" alt="author-avatar" class="personal-img" data-v-6c8ffc9c> <h3 class="name" data-v-6c8ffc9c>
    聂
  </h3> <div class="num" data-v-6c8ffc9c><div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>8</h3> <h6 data-v-6c8ffc9c>文章</h6></div> <div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>2</h3> <h6 data-v-6c8ffc9c>标签</h6></div></div> <hr data-v-6c8ffc9c></div> <nav class="nav-links"><div class="nav-item"><a href="/VuePress/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      系列
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/VuePress/views/git/2020/index.html" class="nav-link"><i class="iconfont reco-category"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/views/cbase/2020/index.html" class="nav-link"><i class="iconfont reco-category"></i>
  c#
</a></li></ul></div></div><div class="nav-item"><a href="/VuePress/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/VuePress/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>对象和类型</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/VuePress/views/cbase/2020/021901.html#对象和类型" class="sidebar-link">对象和类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#类" class="sidebar-link">类</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#属性（property）" class="sidebar-link">属性（property）</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#方法" class="sidebar-link">方法</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#构造函数" class="sidebar-link">构造函数</a></li></ul></li><li><a href="/VuePress/views/cbase/2020/021901.html#结构" class="sidebar-link">结构</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/VuePress/views/cbase/2020/021901.html#按值和按引用传递参数" class="sidebar-link">按值和按引用传递参数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#ref参数" class="sidebar-link">ref参数</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#out参数" class="sidebar-link">out参数</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#in参数" class="sidebar-link">in参数</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#可空类型" class="sidebar-link">可空类型</a></li></ul></li><li><a href="/VuePress/views/cbase/2020/021901.html#枚举类型和部分类" class="sidebar-link">枚举类型和部分类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#枚举类型" class="sidebar-link">枚举类型</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#flags枚举表示" class="sidebar-link">Flags枚举表示</a></li></ul></li><li><a href="/VuePress/views/cbase/2020/021901.html#部分类" class="sidebar-link">部分类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#扩展方法" class="sidebar-link">扩展方法</a></li></ul></li><li><a href="/VuePress/views/cbase/2020/021901.html#面向对象" class="sidebar-link">面向对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#继承（object-oriented，oo）" class="sidebar-link">继承（Object-Oriented，OO）</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#结构和类" class="sidebar-link">结构和类</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#继承实现" class="sidebar-link">继承实现</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#虚方法" class="sidebar-link">虚方法</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#多态性" class="sidebar-link">多态性</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#隐藏方法" class="sidebar-link">隐藏方法</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#调用方法的基类版本" class="sidebar-link">调用方法的基类版本</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#抽象类和抽象方法" class="sidebar-link">抽象类和抽象方法</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#密封类和密封方法" class="sidebar-link">密封类和密封方法</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#派生类的构造函数" class="sidebar-link">派生类的构造函数</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#修饰符" class="sidebar-link">修饰符</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#其他修饰符" class="sidebar-link">其他修饰符</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#字段和属性" class="sidebar-link">字段和属性</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#接口" class="sidebar-link">接口</a></li><li class="sidebar-sub-header"><a href="/VuePress/views/cbase/2020/021901.html#is和as运算符" class="sidebar-link">is和as运算符</a></li></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-6cbeab0a data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>对象和类型</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>聂</span>
            
          <span data-v-6cbeab0a>2017 - </span>
          2020
        </a></span></div></div> <div data-v-4698c43e><main class="page"><!----> <div class="page-title" style="display:none;"><h1>对象和类型</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>聂</span></i> <i class="iconfont reco-date" data-v-484a899e><span data-v-484a899e>2020-02-19</span></i> <!----> <i class="iconfont reco-tag tags" data-v-484a899e><span class="tag-item" data-v-484a899e>
      基础
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="对象和类型"><a href="#对象和类型" class="header-anchor">#</a> 对象和类型</h2> <h3 id="类"><a href="#类" class="header-anchor">#</a> 类</h3> <h4 id="字段"><a href="#字段" class="header-anchor">#</a> 字段</h4> <p><strong>概念</strong>  字段是类的数据成员，他是类型的一个变量，该类型是类的一个成员。</p> <p><code>const</code>:关键字声明常量，编辑器通过const修饰符，用其值取代了他是用变量，编辑器知道常量的值</p> <p><code>readonly</code>：关键字声明只读字段，自读字段的实例成员，作为类成员时需要static修饰只读字段可以在运行期间通过构造函数指定。</p> <h3 id="属性（property）"><a href="#属性（property）" class="header-anchor">#</a> 属性（property）</h3> <p><strong>概念：</strong> 他是一个方法或一对方法，从客户端角度看是一个字段。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">class</span> <span class="token class-name">PhoneCustomer</span><span class="token punctuation">{</span>
    <span class="token comment">//属性的原始写法</span>
    <span class="token keyword">private</span> <span class="token keyword">string</span> firstName<span class="token punctuation">;</span><span class="token comment">//字段</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> FirstName<span class="token punctuation">{</span> <span class="token comment">//属性</span>
        <span class="token comment">//get方法</span>
        <span class="token keyword">get</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> _firstName<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//set方法</span>
        <span class="token keyword">set</span><span class="token punctuation">{</span>
            _firstName<span class="token operator">=</span><span class="token keyword">value</span><span class="token punctuation">;</span> <span class="token comment">//set赋值默认参数</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//简写属性</span>
    <span class="token keyword">private</span> <span class="token keyword">string</span> _firstName2<span class="token punctuation">;</span><span class="token comment">//字段</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> FirstName2<span class="token punctuation">{</span>
        <span class="token keyword">get</span><span class="token operator">=&gt;</span>_firstName2<span class="token punctuation">;</span>
        <span class="token keyword">set</span><span class="token operator">=&gt;</span>_firstName2<span class="token operator">=</span><span class="token keyword">value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//自动属性</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Age<span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token keyword">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token operator">=</span><span class="token number">43</span><span class="token punctuation">;</span><span class="token comment">//初始化自动属性</span>
    <span class="token comment">//设置访问权限</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Age<span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token keyword">private</span> <span class="token keyword">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token comment">//只读属性，构造其中初始化值；</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">int</span> _age<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">int</span> Age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        _age<span class="token operator">=</span>Age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//静态只读属性</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token keyword">int</span> _max<span class="token punctuation">;</span><span class="token comment">//静态只读字段</span>
    <span class="token comment">//静态构造函数，创建第一个实例或引用任何静态成员之前，执行一次。</span>
    <span class="token keyword">static</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
        _max<span class="token operator">=</span><span class="token function">SetMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span>  <span class="token keyword">int</span> <span class="token function">SetMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> max<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> max<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
    <span class="token comment">//自动实现只读属性属性</span>
    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">string</span> name<span class="token punctuation">)</span><span class="token operator">=&gt;</span>Name<span class="token operator">=</span>name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Name<span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token comment">//表达式属性，get访问期的实现后跟lambda操作符</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> FullName<span class="token operator">=&gt;</span>$<span class="token string">&quot;{Name}&quot;</span><span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h4 id="匿名类型"><a href="#匿名类型" class="header-anchor">#</a> 匿名类型</h4> <p><strong>含义</strong>： var与new关键字一起使用，可以创建匿名类型，匿名类型只是继承自Object且没有名称的类，该类的定义从初始化其中推断，类似于隐式类型化的变量。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">var</span> captain<span class="token operator">=</span><span class="token keyword">new</span> <span class="token punctuation">{</span>
firstName<span class="token operator">=</span><span class="token string">&quot;James&quot;</span><span class="token punctuation">,</span>
MiddleName<span class="token operator">=</span><span class="token string">&quot;T&quot;</span><span class="token punctuation">,</span>
LastName<span class="token operator">=</span><span class="token string">&quot;Kirk&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="方法"><a href="#方法" class="header-anchor">#</a> 方法</h3> <p><strong>含义</strong>： c#正式术语中分为函数和方法，在c#术语中，”函数成员“不仅包含方法，也包含类或结构的一些非数据成员。</p> <p><strong>函数成员</strong>：索引器、运算符、构造函数和析构函数、属性等。</p> <p><strong>数据成员</strong>：字段、常量、事件等</p> <p><strong>方法</strong>：定义包含任意方法修饰符（方法的可访问性）、返回值的类型，然后一次是方法名、输入参数的列表（用圆括号括起来）和方法体（用花括号括起来）</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//如果方法有返回值，则return语句就必须与返回值一起使用，否则void</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">IsSquare</span><span class="token punctuation">(</span><span class="token keyword">int</span> count<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//重载一，参数个数不同</span>
<span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">IsSquare</span><span class="token punctuation">(</span><span class="token keyword">string</span>  result <span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> result<span class="token operator">+</span>$<span class="token string">&quot;:{count}&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//重载二，参数类型不同</span>
<span class="token keyword">public</span> <span class="token keyword">bool</span> <span class="token function">IsSquare</span><span class="token punctuation">(</span><span class="token keyword">bool</span> isBol<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> isBol<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//参数调用</span>
<span class="token function">IsSquare</span><span class="token punctuation">(</span><span class="token string">&quot;数字是&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//通过参数名调用方法，传入参数</span>
<span class="token function">IsSquare</span><span class="token punctuation">(</span>count<span class="token punctuation">:</span> <span class="token number">2</span>，result<span class="token punctuation">:</span><span class="token string">&quot;数字是&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//可选参数方法</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">TestMethod</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> opt1<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token keyword">int</span> opt2<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token keyword">int</span> opt3<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>n<span class="token operator">+</span>opt1<span class="token operator">+</span>opt2<span class="token operator">+</span>opt3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//调用可选参数方法</span>
<span class="token function">TestMethod</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//参数个数可变,不可提供默认值</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">AnyNumberofArguments</span><span class="token punctuation">(</span><span class="token keyword">params</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token keyword">var</span> x <span class="token keyword">in</span> data<span class="token punctuation">)</span><span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//传入多个数字</span>
<span class="token function">AnyNumberofArguments</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//传入数组</span>
 <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> sAr<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">AnyNumberofArguments</span><span class="token punctuation">(</span>sAr<span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="构造函数"><a href="#构造函数" class="header-anchor">#</a> 构造函数</h3> <p>概念：构造函数是在实例化对象时自动调用的特殊函数，必须与所属的类名相同且没有返回值，如果没有给类提供构造函数，会默认的提供一个空参数的构造函数。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//单例模式</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> s_instance<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> _state<span class="token punctuation">;</span>
    <span class="token comment">//私有构造函数</span>
    <span class="token keyword">private</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token keyword">int</span> state<span class="token punctuation">)</span><span class="token punctuation">{</span>
        _state
    <span class="token punctuation">}</span>
    <span class="token comment">//属性单例对象</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> Instance<span class="token punctuation">{</span>
        <span class="token keyword">get</span><span class="token operator">=&gt;</span>s_instance<span class="token operator">??</span><span class="token punctuation">(</span>s_instance<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span>；
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">{</span>
      <span class="token keyword">private</span> <span class="token keyword">string</span> _description<span class="token punctuation">;</span>
      <span class="token keyword">private</span> <span class="token keyword">uint</span> _nWheels<span class="token punctuation">;</span>
      <span class="token keyword">public</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token keyword">string</span> description<span class="token punctuation">,</span><span class="token keyword">uint</span> nWheels<span class="token punctuation">)</span><span class="token punctuation">{</span>
          _description<span class="token operator">=</span>description<span class="token punctuation">;</span>
          _nWheels<span class="token operator">=</span>nWheels<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">//从构造函数中调用其他构造函数</span>
      <span class="token keyword">public</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token keyword">string</span> description<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">this</span><span class="token punctuation">(</span>description<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token comment">//静态构造函数，类有一些静态字段或属性，需要在第一次实用类之前，从外部源中初始化这些静态字段和属性。</span>
    <span class="token keyword">public</span>  <span class="token keyword">class</span> <span class="token class-name">Program</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//枚举</span>
        <span class="token keyword">public</span> <span class="token keyword">enum</span> Color<span class="token punctuation">{</span>White<span class="token punctuation">,</span>Red<span class="token punctuation">,</span>Green<span class="token punctuation">,</span>Blue<span class="token punctuation">,</span>Black<span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">static</span>  <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
           
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;背景颜色是{Program.BackColor}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Color</span> BackColor<span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
        <span class="token comment">//静态构造函数，在代码引用类之前调用它。</span>
        <span class="token keyword">static</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           
            <span class="token class-name">DateTime</span> now<span class="token operator">=</span>DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span>DayOfWeek<span class="token operator">==</span>DayOfWeek<span class="token punctuation">.</span>Saturday<span class="token operator">||</span>now<span class="token punctuation">.</span>DayOfWeek<span class="token operator">==</span>DayOfWeek<span class="token punctuation">.</span>Sunday<span class="token punctuation">)</span><span class="token punctuation">{</span>
                BackColor<span class="token operator">=</span>Color<span class="token punctuation">.</span>Green<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                BackColor<span class="token operator">=</span>Color<span class="token punctuation">.</span>Red<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            
        <span class="token punctuation">}</span>
      
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h2 id="结构"><a href="#结构" class="header-anchor">#</a> 结构</h2> <p>概念：值类型，存储在栈中或存储为内联（如果它们是存储在堆中的另一个对象的一部分），结构的生存期限制和简单的数据类型一样。结构实际上就是把数据项组合在一起，大多数数或全部字段都声明为public。</p> <p>规则：</p> <ol><li><p>结构不支持继承 。使用前必须初始化成员变量。</p></li> <li><p>结构的构造函数没有提供默认的构造函数，使用new运算符编译器会自动提供一个成员初始化为其默认值。</p></li> <li><p>将一个结构赋予另一个结构（如A=B）结构的所有的内容就被复制。</p></li> <li><p>使用结构，可以指定字段如何在内存中布局。</p></li> <li></li> <li><p>把结构当参数传递给方法时，应把它作为ref参数传递。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">struct</span> Person<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> address<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">static</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//new 运算符自动初始化成员变量提供默认值。</span>
    <span class="token class-name">Person</span> p1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//不使用new运算符创建,使用前必须给成员变量提供值。</span>
    <span class="token class-name">Person</span> p2<span class="token punctuation">;</span>
    p2<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
    p2<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;聂&quot;</span><span class="token punctuation">;</span>
    p2<span class="token punctuation">.</span>address<span class="token operator">=</span><span class="token string">&quot;山东临沂&quot;</span><span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ol> <h4 id="只读结构"><a href="#只读结构" class="header-anchor">#</a> 只读结构</h4> <p>使用c#7.2时，readonly修饰符可以用于结构，只包含一个修改其成员的构造函数，在传递结构体时不会复制结构的内容，编辑器使用引用，因为永远不会改变。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//使用readonly修饰符，编辑器可优化代码，使其传递结构时不会复制结构内容，编辑器使用引用。</span>
<span class="token keyword">public</span> <span class="token keyword">readonly</span> <span class="token keyword">struct</span> Dimensions<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> Length<span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> Width<span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Dimensions</span><span class="token punctuation">(</span><span class="token keyword">double</span> length<span class="token punctuation">,</span><span class="token keyword">double</span> width<span class="token punctuation">)</span><span class="token punctuation">{</span>
        Length<span class="token operator">=</span>length<span class="token punctuation">;</span>
        Width<span class="token operator">=</span>width<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> Diagonal<span class="token operator">=&gt;</span>Math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>Length<span class="token operator">*</span>Length<span class="token operator">+</span>Width<span class="token operator">+</span>Width<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="结构和继承"><a href="#结构和继承" class="header-anchor">#</a> 结构和继承</h4> <p>概念：结构不是继承设计的，它不能从一个结构中继承。每个结构派生自System.ValueType类，System.ValueType类可以派生自System.Object。</p> <h4 id="结构的构造函数"><a href="#结构的构造函数" class="header-anchor">#</a> 结构的构造函数</h4> <p>默认构造函数把数值字段都初始化为0，且总是隐式的给出，不能创建定制的默认构造函数。</p> <h4 id="ref结构"><a href="#ref结构" class="header-anchor">#</a> ref结构</h4> <p>在c#7.2语言结构中，引用类型存储在堆上，值类型通常存储在栈上，也可以存储在堆上，第三种，只能存储在栈上的值类型。</p> <h2 id="按值和按引用传递参数"><a href="#按值和按引用传递参数" class="header-anchor">#</a> 按值和按引用传递参数</h2> <p>结构是按值传递，通过按值传递。</p> <p>类引用传递。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">ChangeA</span><span class="token punctuation">(</span><span class="token class-name">A</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>
    a<span class="token punctuation">.</span>X<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">A</span> a1<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">{</span>X<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">ChangeA</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//如果A是结构则，输出1，如果结构是通过readonly修饰的只读结构，输出2</span>
    <span class="token comment">//如果A是类类型，输出2</span>
    Console<span class="token punctuation">.</span><span class="token function">Writeline</span><span class="token punctuation">(</span>$<span class="token string">&quot;a1.X{a1.X}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="ref参数"><a href="#ref参数" class="header-anchor">#</a> ref参数</h3> <p>c#对传递给方法的参数应用有初始化的要求，任何变量传递给方法之前，必须初始化，无论按值还是按引用传递。（out 修饰的可以不用初始化）</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//通过引用传递结构，</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">ChangeA</span><span class="token punctuation">(</span><span class="token keyword">ref</span> <span class="token class-name">A</span> a <span class="token punctuation">)</span><span class="token punctuation">{</span>
    a<span class="token punctuation">.</span>X<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//ref修饰结构，输出main方法输出为2.</span>
    
<span class="token punctuation">}</span>
<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">A</span> a1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">{</span>X<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">ChangeA</span><span class="token punctuation">(</span><span class="token keyword">ref</span> a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Cosole<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;a1.X{a1.X}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>
<span class="token comment">//ref 修饰的类类型参数，</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">ChangeA</span><span class="token punctuation">(</span><span class="token keyword">ref</span> <span class="token class-name">A</span> a <span class="token punctuation">)</span><span class="token punctuation">{</span>
    a<span class="token punctuation">.</span>X<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
    a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">{</span>X<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//ref 修饰的参数，a.X输出为3。如果没有则，输出2。新new对象堆上面没有引用，可以回收它。</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="out参数"><a href="#out参数" class="header-anchor">#</a> out参数</h3> <p>out 定义参数不必初始化，但结束方法返回值时必须初始化。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code> <span class="token keyword">string</span> input2 <span class="token operator">=</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取输入</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">TryParse</span><span class="token punctuation">(</span>input2<span class="token punctuation">,</span><span class="token keyword">out</span> <span class="token keyword">int</span> result2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;result:{result2}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果成功转换</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;not a number&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="in参数"><a href="#in参数" class="header-anchor">#</a> in参数</h3> <ol><li><p>in修饰符保证发送到方法中的数据不会更改（传递值类型时）；</p></li> <li><p>in修饰引用类型时，可以更改变量内容，但不能更改变量本身。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">CantChange</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token class-name">AValueType</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// a.Data=43 //不能更改值</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>Data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol> <h3 id="可空类型"><a href="#可空类型" class="header-anchor">#</a> 可空类型</h3> <p><strong>目的</strong> ：引用类型的变量可以为空，解决 值类型（结构）的变量不能为空的问题。</p> <p><strong>创建</strong>： 可控类型只需在类型的后面添加&quot;?&quot;（它必须是结构）</p> <p><strong>HasValue</strong>：判断是否有值。返回true或false</p> <p><strong>Value</strong>:返回底层值。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">int</span> x1<span class="token operator">=</span><span class="token number">1</span>；
<span class="token keyword">int</span><span class="token punctuation">?</span> x2<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//可空类型</span>
<span class="token keyword">int</span> x3<span class="token operator">=</span> x2<span class="token punctuation">.</span>HasValue <span class="token punctuation">?</span> x2<span class="token punctuation">.</span>Value<span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">//合并运算符 ?? 如果x3为null，则x4为-1</span>
<span class="token keyword">int</span> x4<span class="token operator">=</span> x3 <span class="token operator">??</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="枚举类型和部分类"><a href="#枚举类型和部分类" class="header-anchor">#</a> 枚举类型和部分类</h2> <h3 id="枚举类型"><a href="#枚举类型" class="header-anchor">#</a> 枚举类型</h3> <p>枚举类型是一个值类型，包含一组命名的常量，默认情况下，enum类型是int，这个类型可以改为其他整数类型(byte、short、int、带符号的long和无符号变量)。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> Color：<span class="token keyword">short</span>
<span class="token punctuation">{</span>
Red<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
Green<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
Blue<span class="token operator">=</span><span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token class-name">Color</span> c2<span class="token operator">=</span><span class="token punctuation">(</span>Color<span class="token punctuation">)</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//将数字改为枚举值</span>
<span class="token keyword">short</span> number<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span>c2<span class="token punctuation">;</span><span class="token comment">//将枚举值改为数字。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="flags枚举表示"><a href="#flags枚举表示" class="header-anchor">#</a> Flags枚举表示</h3> <p>作用：</p> <ol><li><p>将枚举一个变量赋予多个枚举值。</p></li> <li><p>有助于动态获得枚举类型的信息。枚举提供了方法来解析字符串，获得相应的枚举常量，获得枚举类型的所有名称和值</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token punctuation">[</span><span class="token class-name">Flags</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> Color<span class="token punctuation">{</span>
	Red<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
	Green<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
	Blue<span class="token operator">=</span><span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token class-name">Color</span> ColorClass<span class="token operator">=</span> Red<span class="token operator">|</span> Blue<span class="token punctuation">;</span><span class="token comment">//一个枚举变量表示多个枚举值</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ColorClass<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Enum.TryParse&lt;T&gt;()是一个泛型方法，将字符串转换为枚举类型</span>
<span class="token comment">//根据字符串动态获取枚举的信息</span>
<span class="token class-name">Color</span> red<span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>Enum<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">TryParse</span><span class="token punctuation">&lt;</span><span class="token class-name">Color</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;Red&quot;</span><span class="token punctuation">,</span><span class="token keyword">out</span> red<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Conosle<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;成功转换{red}&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//Enum.GetNames方法返回一个包含所有枚举名的字符串数组</span>
<span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token keyword">var</span> day <span class="token keyword">in</span> Enum<span class="token punctuation">.</span><span class="token function">GetNames</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>Color<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//Enum.GetValues 获取所有枚举值</span>
<span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token keyword">short</span> val <span class="token keyword">in</span> Enum<span class="token punctuation">.</span><span class="token function">GetValues</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>Color<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Conosle<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="部分类"><a href="#部分类" class="header-anchor">#</a> 部分类</h2></li></ol> <p>定义：partial 关键字允许把类，结构，方法或接口放在多个文件中。</p> <h3 id="扩展方法"><a href="#扩展方法" class="header-anchor">#</a> 扩展方法</h3> <p><strong>目的</strong>：扩展方法是给对象添加功能 的另一个选项，在不能使用继承时，可以使用这个选项（类是密封的）</p> <p><strong>要求</strong>：</p> <ol><li>this关键字必须匹配类型的扩展方法，</li> <li>打开需扩展方法的静态类所在名称空间。</li></ol> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//定义其他类</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">StringExtension</span><span class="token punctuation">{</span>
    <span class="token comment">//定义扩展方法</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">GetWordCount</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">string</span> s<span class="token punctuation">)</span><span class="token operator">=&gt;</span>s<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//main 方法</span>
<span class="token keyword">string</span> fox<span class="token operator">=</span><span class="token string">&quot;这是个测试字符串&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//调用扩展方法</span>
<span class="token keyword">int</span> wordCount<span class="token operator">=</span>fox<span class="token punctuation">.</span><span class="token function">GetWordCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//后台，编辑器把它改为调用静态方法</span>
<span class="token keyword">int</span> wordCount<span class="token operator">=</span>StringExtension<span class="token punctuation">.</span><span class="token function">GetWordCount</span><span class="token punctuation">(</span>fox<span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;{wordCount }&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="面向对象"><a href="#面向对象" class="header-anchor">#</a> 面向对象</h2> <p><strong>三大特性</strong>： 继承、封装、多态性</p> <h3 id="继承（object-oriented，oo）"><a href="#继承（object-oriented，oo）" class="header-anchor">#</a> 继承（Object-Oriented，OO）</h3> <p>单重继承：表示一个类可以派生自一个基类。</p> <p>多层继承：多层继承允许继承有更大层次结构，如B类继承A，C类继承B。</p> <p>接口继承：定义了接口的继承，允许多层继承。</p> <h3 id="结构和类"><a href="#结构和类" class="header-anchor">#</a> 结构和类</h3> <p>结构（值类型）：结构派生自System.ValueType，不支持继承，但支持接口继承</p> <p>类（引用类型）：总是派生自System.Object或用户选择的另一个类，他们可以派生自任意多的接口</p> <h3 id="继承实现"><a href="#继承实现" class="header-anchor">#</a> 继承实现</h3> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//如果类中没有制定基类，C#编辑器就假定System.Object是基类</span>
<span class="token comment">//声明派生自另一个类的类，</span>
<span class="token keyword">class</span> <span class="token class-name">MyDerivedClass</span><span class="token punctuation">:</span> <span class="token class-name">MyBaseClass</span><span class="token punctuation">{</span>
    <span class="token comment">//members</span>
<span class="token punctuation">}</span>
<span class="token comment">//类或接口也派生自接口，用逗号分开</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyDerivedClass</span><span class="token punctuation">:</span><span class="token class-name">MyBaseClass</span><span class="token punctuation">,</span>Interface<span class="token punctuation">,</span>Interface<span class="token punctuation">{</span>
    <span class="token comment">//members</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="虚方法"><a href="#虚方法" class="header-anchor">#</a> 虚方法</h3> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//1.声明虚方法，方法前面添加virtual，就可以在任何派生类中重写该方法。</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Shape&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//2.声明虚属性，属性前面添加virtual，既可以重写属性</span>
<span class="token keyword">public</span> <span class="token keyword">virtual</span> Size<span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token keyword">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token comment">//3. 在继承对象方法前使用override关键字,重写方法</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Rectangle</span><span class="token punctuation">:</span><span class="token class-name">Shape</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">void</span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Rectangle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="custom-block tip"><ol><li>重写基类的方法是，签名和返回值类型必须完全匹配，否则是新成员不是覆盖的基类类成员</li> <li>成员字段和静态函数不能声明为virtual虚方法，这个概念只对实例函数对象函数才有意义。</li></ol></div> <h3 id="多态性"><a href="#多态性" class="header-anchor">#</a> 多态性</h3> <p><strong>概念</strong>： 使用多态性，可以动态地定义调用的方法，不是在编译期间定义。编辑器创建一个虚拟方法表（vtable），其中列出了可在运行期间调用的方法，根据运行期间调用方法.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//定义一个方法</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">DrawShape</span><span class="token punctuation">(</span><span class="token class-name">Shape</span> shape<span class="token punctuation">)</span><span class="token operator">=&gt;</span>shape<span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//传入Shape对象，调用main方法内调用输出</span>
<span class="token function">DrawShape</span><span class="token punctuation">(</span>shape<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出Shape</span>
<span class="token comment">//传入继承Shape类的Rectangle对象</span>
<span class="token class-name">Shape</span> shape<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">DrawShape</span><span class="token punctuation">(</span>shape<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出Rectangle</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="隐藏方法"><a href="#隐藏方法" class="header-anchor">#</a> 隐藏方法</h3> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Drow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span><span class="token punctuation">:</span><span class="token class-name">Rectangle</span><span class="token punctuation">:</span>Shape<span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Drow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//隐藏基类方法，new关键字处理版本冲突，避免编辑器警告</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="custom-block tip"><p>虚方法和隐藏方法的区别：基类的方法声明为virtual虚方法，如果其方法调用了此方法，简单重命名会破坏其他代码。</p></div> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//虚方法</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">Drow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Shape&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span>  <span class="token keyword">void</span> Test <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">Drow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用虚方法</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Reactangle</span><span class="token punctuation">:</span><span class="token class-name">Shape</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">void</span> <span class="token function">Drow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Reactangle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//main方法中</span>
<span class="token class-name">Reactangle</span> react<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Reactangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
react<span class="token punctuation">.</span><span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出Reactangle</span>

<span class="token comment">//隐藏方法</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span>  <span class="token keyword">void</span> <span class="token function">Drow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Shape&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span>  <span class="token keyword">void</span> Test <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">Drow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用隐藏方法</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Reactangle</span><span class="token punctuation">:</span><span class="token class-name">Shape</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">new</span> <span class="token keyword">void</span> <span class="token function">Drow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Reactangle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">/</span>main方法中
<span class="token class-name">Reactangle</span> react<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Reactangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
react<span class="token punctuation">.</span><span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出Shape，不会影响基类其他方法调用。</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="调用方法的基类版本"><a href="#调用方法的基类版本" class="header-anchor">#</a> 调用方法的基类版本</h3> <p>使用base关键字调用，如 base.Drow();//调用Shape中的方法</p> <h3 id="抽象类和抽象方法"><a href="#抽象类和抽象方法" class="header-anchor">#</a> 抽象类和抽象方法</h3> <p><strong>说明</strong> ：把类和方法添加关键字abstract为抽象类和抽象方法，抽象方法没有方法体，抽象类不能实例化，抽象方法必须在抽象类中，继承抽象类的非抽象类，必须实现抽象方法，否则，编辑器会报错。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span><span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">Resize</span><span class="token punctuation">(</span><span class="token keyword">int</span>  width<span class="token punctuation">,</span><span class="token keyword">int</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="密封类和密封方法"><a href="#密封类和密封方法" class="header-anchor">#</a> 密封类和密封方法</h3> <p><strong>说明</strong>：给类添加sealed修饰符，就不允许创建该类的子类，密封一个方法，表示不能重写该方法。</p> <p><strong>优点</strong>：对于密封类，编辑器知道不能派生类，因此用于虚拟方法的虚拟表可以缩短和消除，提高性能，string类是密封的，使用密封类保持最佳性能，把类标记为sealed对编辑器来说是一个很好的提示。</p> <h3 id="派生类的构造函数"><a href="#派生类的构造函数" class="header-anchor">#</a> 派生类的构造函数</h3> <p><strong>说明</strong> ：假定没有为任何类定义显示的构造函数，编辑器就会为所有的类提供默认的初始化构造函数。在后台会进行很多操作，编辑器可以很好的解决层次结构中的所有问题，每个类中的每个字段都会初始化为对应的默认值，通过派生类的层次结构高效的控制构造过程。</p> <p>如果没有在默认构造函数中初始化成员，编辑器会自动把引用类型初始化为null，值类型初始化为0，布尔类型初始化为false，布尔类型是值类型，false与0是一样的，所以这个规则也适用于布尔类型。</p> <p>构造函数总是按照层次结构的顺序调用：现调用System.Object类的构造函数，在按照层次结构由上向下进行，直到编辑器要实例化的类为止。</p> <p>删除默认构造函数，重新编译程序时，编辑器不知道应该把什么值传递给基类唯一的非默认值构造函数，在派生类中需要创建一个构造函数，用构造函数初始化基类构造函数。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span><span class="token punctuation">{</span>
    <span class="token comment">//当给类提供了构造函数，会删除默认的构造函数</span>
    <span class="token keyword">public</span> <span class="token function">Shape</span><span class="token punctuation">(</span><span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">,</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token punctuation">}</span>
   <span class="token keyword">public</span> <span class="token keyword">int</span> Width<span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token keyword">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Height<span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token keyword">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> X<span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token keyword">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Y<span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token keyword">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//通过base关键字，构造函数初始化基类构造函数</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">:</span><span class="token class-name">Shape</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token keyword">int</span> width<span class="token punctuation">,</span><span class="token keyword">int</span> height<span class="token punctuation">,</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">base</span><span class="token punctuation">{</span>width<span class="token punctuation">,</span>height<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="修饰符"><a href="#修饰符" class="header-anchor">#</a> 修饰符</h3> <table><thead><tr><th>修饰符</th> <th>应用于</th> <th>说明</th></tr></thead> <tbody><tr><td>public</td> <td>所有类型成员</td> <td>任何代码均可访问</td></tr> <tr><td>protected</td> <td>类型和内嵌类型的所有成员</td> <td>只有派生类型能访问该项</td></tr> <tr><td>internal</td> <td>所有类型或成员</td> <td>只能包含它的程序集访问该项</td></tr> <tr><td>private</td> <td>类型和内嵌类型的所有成员</td> <td>只能在它所属的类型中访问该项</td></tr> <tr><td>protected internal</td> <td>类型和内嵌类型的所有成员</td> <td>只能在包含它的程序集和派生类型的任何代码中访问该项，实际上，这意味着protected或internal</td></tr> <tr><td>private protected</td> <td>类型和内嵌类型的所有成员</td> <td>访问修饰符protected internal 表示protected或internal ，与此相反，private protected将private与protected组合在一个起，表示private和protected。只允许访问同一程序集中的派生类型，而不允许访问其他程序集中的派生类型。</td></tr></tbody></table> <h3 id="其他修饰符"><a href="#其他修饰符" class="header-anchor">#</a> 其他修饰符</h3> <table><thead><tr><th>修饰符</th> <th>应用于</th> <th>说明</th></tr></thead> <tbody><tr><td>new</td> <td>函数成员</td> <td>成员用相同的签名隐藏继承的成员</td></tr> <tr><td>static</td> <td>所有成员</td> <td>成员不用作类的具体实例，也称为类成员，俄不是实例成员</td></tr> <tr><td>virtual</td> <td>仅函数成员</td> <td>成员可以由派生类重写</td></tr> <tr><td>abstract</td> <td>仅函数成员</td> <td>虚拟成员定义了成员的签名，但没有提供实现代码</td></tr> <tr><td>override</td> <td>仅函数成员</td> <td>成员重写了继承的虚拟或抽象成员</td></tr> <tr><td>sealed</td> <td>类、方法和属性</td> <td>对于类，不能继承自密封类。对于属性和方法，成员重写已继承的虚拟成员，但任何派生类中的任何成员都不能重写该成员，该修饰符必须与override一起使用</td></tr> <tr><td>extern</td> <td>仅静态[DIIImport]方法</td> <td>成员在外部用类一个语言实现。</td></tr></tbody></table> <h3 id="字段和属性"><a href="#字段和属性" class="header-anchor">#</a> 字段和属性</h3> <h4 id="字段-2"><a href="#字段-2" class="header-anchor">#</a> 字段</h4> <ol><li>字段又称为“成员变量”，一般在类的内部做数据交互使用。</li> <li>一般首字母小写，一般private修饰，根据程序的功能需求，具体添加不同类型的字段。</li></ol> <h4 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h4> <ol><li>面向对象设计中主要是使用属性描述对象的静态特征，可在方法里假如逻辑处理数据，灵活拓展使用，属性本身就是方法，不保存任何数据。</li> <li>首字母一般大写，一般public修饰，向外界提供访问私有字段的入口</li></ol> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span><span class="token comment">//字段</span>
<span class="token comment">//属性 set设置私有字段的值</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> Age<span class="token punctuation">{</span>
    <span class="token keyword">get</span><span class="token punctuation">{</span><span class="token keyword">return</span> age<span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">set</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            age<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            age<span class="token operator">=</span><span class="token keyword">value</span><span class="token punctuation">;</span><span class="token comment">//value默认传入的值</span>
        <span class="token punctuation">}</span>
            
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//自动属性</span>
<span class="token keyword">public</span> <span class="token keyword">string</span> Name<span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token keyword">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="接口"><a href="#接口" class="header-anchor">#</a> 接口</h3> <p><strong>说明</strong>：接口不能有构造函数也不能有字段，接口定义不允许包含运算符重载，不允许声明成员的修饰符，接口成员隐式public，不能声明virtual。只能包含方法、属性、索引器、事件的声明,接口可以彼此继承，继承方式与类继承相同。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span>  <span class="token keyword">interface</span> <span class="token class-name">IDisposable</span><span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>优势</strong> 它可以引用任何实现该接口的类。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bank</span><span class="token punctuation">:</span><span class="token class-name">IDisposable</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;关闭银行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TBank</span><span class="token punctuation">:</span><span class="token class-name">IDisPosable</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;关闭T银行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//main方法中</span>
IDisposable<span class="token punctuation">[</span><span class="token punctuation">]</span> accounts<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IDisposable</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
accounts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Bank</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">TBank</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
accounts<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">TBank</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="is和as运算符"><a href="#is和as运算符" class="header-anchor">#</a> is和as运算符</h3> <p><strong>作用</strong> 描述类型对象层次结构中的直接关系</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//as 检查参数是否实现接口，返回对象的引用。</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ObjectWith</span><span class="token punctuation">(</span><span class="token keyword">object</span> o<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">IDisposable</span> account<span class="token operator">=</span> o <span class="token keyword">as</span> IDisposable<span class="token punctuation">;</span><span class="token comment">//如果o不能转换为接口返回null</span>
<span class="token punctuation">}</span>
<span class="token comment">//is</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ObjectWithF</span><span class="token punctuation">(</span><span class="token keyword">object</span> o<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>o <span class="token keyword">is</span> <span class="token class-name">IDisposable</span> account<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">// 判断对象是否是指定的类型，返回true或false</span>
	Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;o实现接口&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div style="float:left width:100%;"><div style="float:left;"><a href="021802.html">←基础语法核心内容</a></div> <div style="float:right;"><a href="022601.html">泛型→</a></div></div></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----></main> <!----> <div class="comments-wrapper" data-v-4698c43e><!----></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-a81d141e data-v-a81d141e><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-a81d141e><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-a81d141e></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-a81d141e></path></svg></div></div></div>
    <script src="/VuePress/assets/js/app.4b2f6a19.js" defer></script><script src="/VuePress/assets/js/3.d221ede1.js" defer></script><script src="/VuePress/assets/js/1.1dcb4397.js" defer></script><script src="/VuePress/assets/js/14.5e75574b.js" defer></script>
  </body>
</html>
